<div class="container mt-4 panier-container">

  <h2 class="mb-4 text-center">ðŸ›’ Mon Panier</h2>

  <!-- Liste des produits -->
  <ul class="list-group" *ngIf="panier?.lignesPanier?.length">
    <li *ngFor="let ligne of panier.lignesPanier" 
        class="list-group-item d-flex flex-column flex-md-row justify-content-between align-items-center mb-3 shadow-sm rounded p-3 bg-light">

      <!-- Infos produit -->
      <div class="product-info mb-2 mb-md-0">
        <h5>{{ ligne.produit.nom }}</h5>
        <p class="mb-1">Prix : {{ ligne.produit.prix }} DT</p>
        <p class="mb-1">QuantitÃ© : {{ ligne.quantite }}</p>
      </div>

      <!-- Actions quantitÃ© -->
      <div class="btn-group mb-2 mb-md-0">
        <button class="btn btn-sm btn-secondary" (click)="decreaseProduit(ligne.produit)">-</button>
        <button class="btn btn-sm btn-success" (click)="addProduit(ligne.produit)">+</button>
        <button class="btn btn-sm btn-danger" (click)="removeProduit(ligne.produit)">Supprimer</button>
      </div>

      <!-- Subtotal -->
      <div class="subtotal">
        <p class="mb-0 fw-bold">Subtotal: {{ ligne.produit.prix * ligne.quantite }} DT</p>
      </div>

    </li>
  </ul>

  <!-- Panier vide -->
  <div *ngIf="!panier?.lignesPanier?.length" class="alert alert-info mt-3 text-center">
    ðŸ›’ Votre panier est vide !
  </div>

  <!-- Total et commander -->
  <div *ngIf="panier?.lignesPanier?.length" class="mt-3 d-flex flex-column flex-md-row justify-content-end align-items-center gap-3">
    <h5 class="fw-bold">Total: {{ getTotal() }} DT</h5>
    <button class="btn btn-pink btn-lg" (click)="commander()">Commander</button>
  </div>

</div>
